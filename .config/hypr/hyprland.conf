#  Hyprland Config

#─────────────────────────────────────────────
# COLOR SOURCE (Auto-generated by Matugen)
#─────────────────────────────────────────────
source = colors.conf


#─────────────────────────────────────────────
# MONITOR SETUP
#─────────────────────────────────────────────
monitor = eDP-1,1920x1080@60.00,0x0,1


#─────────────────────────────────────────────
# PROGRAMS
#─────────────────────────────────────────────
$terminal    = kitty
$fileManager = nemo
$browser     = librewolf
$textEditor  = code
$menu        = walker


#─────────────────────────────────────────────
# AUTOSTART SERVICES
#─────────────────────────────────────────────
exec-once = systemctl --user start hyprpolkitagent
exec-once = udiskie &
exec-once = blueman-applet &
exec-once = swaync &
exec-once = hypridle &
exec-once = swww-daemon &
exec-once = sleep 1 && swww img Downloads/wallhaven-l3xk6q.jpg
exec-once = waybar &
exec-once = fcitx5 &
exec-once = elephant
exec-once = walker --gapplication-service
exec-once = batsignal -b


#─────────────────────────────────────────────
# ENVIRONMENT VARIABLES
#─────────────────────────────────────────────
env = QT_QPA_PLATFORMTHEME,qt6ct

env = XCURSOR_THEME,Bibata-Modern-Ice
env = XCURSOR_SIZE,24
env = HYPRCURSOR_THEME,Bibata-Modern-Ice
env = HYPRCURSOR_SIZE,24

env = ELECTRON_OZONE_PLATFORM_HINT,auto
env = XDG_CURRENT_DESKTOP,Hyprland

env = ELECTRON_OZONE_PLATFORM_HINT,auto
env = XDG_CURRENT_DESKTOP,Hyprland

env = XDG_MENU_PREFIX,arch-


#─────────────────────────────────────────────
# LOOK & FEEL
#─────────────────────────────────────────────

render {
    cm_enabled = false
}


general {
    gaps_in  = 5
    gaps_out = 10
    border_size = 3

    col.active_border = $primary_50
    col.inactive_border = rgba(255,255,255,0.1)

    resize_on_border = false
    allow_tearing    = false
    layout = dwindle
}

decoration {
    rounding = 8
    rounding_power = 5

    active_opacity   = 0.8
    inactive_opacity = 0.8

    shadow {
        enabled = true
        range = 5
        render_power = 5
        color = rgba(1a1a1aee)
    }

    blur {
        enabled = true
        size = 5
        passes = 3
        noise = 0.05
        ignore_opacity = true
        vibrancy = 0.17
        popups = false
    }
}

animations {
    enabled = yes

    # ── Bezier ─────────────────────────────
    bezier = easeOutQuint,   0.22,  1,    0.36,  1
    bezier = easeOutCubic,   0.215, 0.61, 0.355, 1
    bezier = almostLinear,   0.50,  0.50, 0.75,  1.00
    bezier = smooth,        0.25,  0.9,  0.25,  1
    bezier = quick,         0.15,  0,    0.10,  1

    # ── Windows ────────────────────────────
    animation = windowsIn,    1, 5,   easeOutQuint, popin 82%
    animation = windowsOut,   1, 3,   easeOutCubic, popin 85%
    animation = windowsMove,  1, 3,   easeOutQuint

    # ── Fade ───────────────────────────────
    animation = fade,         1, 3,   quick
    animation = fadeIn,       1, 1.73, almostLinear
    animation = fadeOut,      1, 1.46, almostLinear

    # ── Layers ─────────────────────────────
    animation = layersIn,     1, 4,   easeOutQuint, fade
    animation = layersOut,    1, 3,   easeOutCubic, fade

    # ── Workspaces ─────────────────────────
    animation = workspaces,   1, 1,   easeOutCubic, fade
}

#─────────────────────────────────────────────
# INPUT CONFIGURATION
#─────────────────────────────────────────────
input {
    kb_layout = us
    follow_mouse = 0
    sensitivity = 0

    touchpad {
        natural_scroll = false
    }
}


cursor {
    no_warps = true
}

gesture = 3, horizontal, workspace


#─────────────────────────────────────────────
# KEYBINDINGS
#─────────────────────────────────────────────
$mainMod = SUPER

#── Core actions
bind = $mainMod, T, exec, $terminal
bind = $mainMod SHIFT, T, exec, [float;size 950 520;center] $terminal
bind = $mainMod, W, exec, $browser
bind = $mainMod, C, exec, $textEditor
bind = $mainMod, D, exec, $menu
bind = $mainMod, Q, killactive
bind = $mainMod, END, exit

bind = $mainMod, O, exec, obsidian
bind = $mainMod, E, exec, $terminal -e yazi

#── Utilities
bind = $mainMod, DELETE, exec, hyprlock
bind = $mainMod, ESCAPE, exec, ~/.config/wlogout/logoutlaunch.sh
bind = $mainMod, R, exec, ~/.config/waybar/scripts/launch.sh
bind = $mainMod, SPACE, exec, fcitx5-remote -t
bind = $mainMod, V, exec, ~/.config/hypr/Script/togglefloat.sh
bind = $mainMod SHIFT, V, exec, ~/.config/hypr/Script/toggle-half-full.sh
bind = $mainMod SHIFT, R, exec, killall -SIGUSR1 waybar

bind = $mainMod, PRINT, exec, hyprshot -m window -o /home/ether/Screenshots
bind = , PRINT, exec, hyprshot -m active -m output -o /home/ether/Screenshots
bind = $mainMod SHIFT, PRINT, exec, hyprshot -m region -o /home/ether/Screenshots
bind = $mainMod SHIFT, O, setprop, active opaque toggle

#── Layout control
bind = $mainMod, P, pseudo
bind = $mainMod, G, togglesplit
bind = $mainMod, F, fullscreenstate, 1
bind = $mainMod SHIFT, F, fullscreen

#── Window navigation
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

bind = $mainMod, h, alterzorder, top
bind = $mainMod, l, alterzorder, top
bind = $mainMod, k, alterzorder, top
bind = $mainMod, j, alterzorder, top

bind = $mainMod, Tab, exec, hyprctl dispatch cyclenext && hyprctl dispatch alterzorder top

#── Window movement
bind = $mainMod SHIFT, h, movewindow, l
bind = $mainMod SHIFT, l, movewindow, r
bind = $mainMod SHIFT, k, movewindow, u
bind = $mainMod SHIFT, j, movewindow, d

#── Workspaces
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

#── Special workspace
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

#── Mouse actions
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Move floating windows with arrow keys
bind = ALT, H, movewindowpixel, -10 0, activewindow
bind = ALT, L, movewindowpixel, 10 0, activewindow
bind = ALT, K, movewindowpixel, 0 -10, activewindow
bind = ALT, J, movewindowpixel, 0 10, activewindow

# Resize floating window pixel-by-pixel
bind = ALT SHIFT, H, resizewindowpixel, -20 0,activewindow
bind = ALT SHIFT, L, resizewindowpixel, 20 0,activewindow
bind = ALT SHIFT, K, resizewindowpixel, 0 -20,activewindow
bind = ALT SHIFT, J, resizewindowpixel, 0 20,activewindow

#── Scrolling workspace
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

#── Multimedia & Brightness
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = , XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = , XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-
bindl  = , XF86AudioNext, exec, playerctl next
bindl  = , XF86AudioPrev, exec, playerctl previous
bindl  = , XF86AudioPlay, exec, playerctl play-pause
bindl  = , XF86AudioPause, exec, playerctl play-pause

bind = SUPER, X, exec, playerctl play-pause


#─────────────────────────────────────────────
# WINDOW RULES
#─────────────────────────────────────────────
windowrule {
    # Ignore maximize requests from all apps. You'll probably like this.
    name = suppress-maximize-events
    match:class = .*

    suppress_event = maximize
}

windowrule {
    # Fix some dragging issues with XWayland
    name = fix-xwayland-drags
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false

    no_focus = true
}

#─────────────────────────────────────────────
# LAYER RULES (Blur + transparency)
#─────────────────────────────────────────────

layerrule[waybar_blur] {
    match:namespace = waybar
    blur = on
    ignore_alpha = 0
    ignore_alpha = 0.5
}

layerrule[control_center] {
    match:namespace = swaync-control-center
    blur = on
    ignore_alpha = 0
    ignore_alpha = 0.5
}

layerrule[notifications] {
    match:namespace = swaync-notification-window
    blur = on
    ignore_alpha = 0
    ignore_alpha = 0.5
}

layerrule[walker] {
    match:namespace = walker
    blur = on
    ignore_alpha = 0
    ignore_alpha = 0.5
}

layerrule[wlogout] {
    match:namespace = wlogout
    blur = on
}

layerrule[wlogout_dialog] {
    match:namespace = logout_dialog
    blur = on
}


#─────────────────────────────────────────────
# LAYOUT SETTINGS
#─────────────────────────────────────────────
dwindle {
    pseudotile = true
    preserve_split = true
    force_split = 2
}

master {
    new_status = master
    drop_at_cursor = false
}

misc {
    force_default_wallpaper = -1
    disable_hyprland_logo = true
}


